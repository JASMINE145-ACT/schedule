# 用户使用指南

## 快速开始

### 第一次使用

1. **确保后端和前端服务都已启动**
   - 后端: http://localhost:8000
   - 前端: http://localhost:8501

2. **访问前端界面**
   - 打开浏览器访问 http://localhost:8501

3. **检查连接状态**
   - 如果看到 "✅ 已连接到后端 API"，说明一切正常
   - 如果看到错误，请检查后端是否正在运行

## 创建行程规划

### 步骤 1: 填写基本信息

- **团队人数**: 输入出行人数（1-50人）
- **交通方式**: 选择自驾、步行或公共交通
- **行程天数**: 输入总天数（1-30天）
- **城市/国家**: 输入目的地，例如 "Jakarta, Indonesia"

### 步骤 2: 配置每日行程

对于每一天，需要填写：

1. **起点/住宿**: 当天的起点或住宿地点
   - 例如: "Hotel Mulia Senayan, Jakarta"

2. **终点/住宿**: 当天的终点（可选，如果与起点相同可留空）
   - 例如: "Hotel Mulia Senayan, Jakarta"

3. **必去地点**: 必须访问的地点（每行一个）
   ```
   Jakarta Convention Center, Jakarta
   SCBD Business District, Jakarta
   ```

4. **候选地点**: 可选访问的地点（每行一个）
   ```
   Grand Indonesia Mall, Jakarta
   Plaza Indonesia, Jakarta
   ```

5. **约束条件**:
   - **单程最大时间**: 每段行程的最大时间（分钟）
   - **缓冲时间**: 每天预留的缓冲时间（分钟）
   - **高峰时段**: 设置早晚高峰时间
   - **硬性截止时间**: 如有硬约束（如机场时间），填写时间如 "15:30"

### 步骤 3: 提交规划

1. 点击"🚀 开始规划"按钮
2. 系统会显示处理进度
3. 等待规划完成（通常 30-60 秒）

### 步骤 4: 查看结果

规划完成后，可以：

1. **查看规划摘要**: 总距离、总时间、风险统计
2. **查看每日详细路线**: 
   - 每段行程的距离和时间
   - 出发和到达时间
   - 风险等级提示
3. **查看风险提示**: 系统会标注高风险路段
4. **查看替代方案**: 如果时间紧张，系统会提供精简版方案
5. **下载报告**: 下载完整的 Markdown 格式报告

## 示例：雅加达 3 天商务行程

### 基本信息
- 团队人数: 3
- 交通方式: 自驾
- 行程天数: 3
- 城市: Jakarta, Indonesia

### 第 1 天
- **起点**: Hotel Mulia Senayan, Jakarta
- **终点**: Hotel Mulia Senayan, Jakarta
- **必去地点**:
  ```
  Jakarta Convention Center, Jakarta
  ```
- **候选地点**:
  ```
  SCBD Business District, Jakarta
  Sudirman CBD, Jakarta
  Grand Indonesia Mall, Jakarta
  ```
- **单程最大时间**: 60 分钟
- **缓冲时间**: 60 分钟

### 第 2 天
- **起点**: Hotel Mulia Senayan, Jakarta
- **终点**: Pluit, North Jakarta (策略 A)
- **必去地点**:
  ```
  MM2100 Industrial Park, Cikarang
  ```
- **候选地点**:
  ```
  Bekasi City Center, Bekasi
  ```
- **单程最大时间**: 90 分钟
- **缓冲时间**: 60 分钟
- **早高峰**: 07:00 - 09:00

### 第 3 天
- **起点**: Pluit, North Jakarta
- **终点**: Soekarno-Hatta International Airport
- **必去地点**:
  ```
  Pluit Industrial Estate, Jakarta
  ```
- **硬性截止时间**: 15:30
- **单程最大时间**: 60 分钟

## 查看历史记录

1. 在侧边栏选择"查看历史记录"
2. 浏览所有历史规划
3. 点击"查看详情"重新查看规划
4. 可以下载历史报告

## 提示和技巧

### 提高规划质量

1. **提供准确的地点名称**: 使用完整地址或知名地标名称
2. **合理设置约束**: 不要设置过紧的时间约束
3. **预留缓冲时间**: 建议每天至少预留 60 分钟缓冲
4. **考虑交通高峰**: 了解目的地的交通高峰时段

### 处理规划失败

如果规划失败，可能的原因：

1. **地点无法识别**: 检查地点名称是否正确
2. **API 配额不足**: 检查 Google Maps API 配额
3. **网络问题**: 检查网络连接

### 优化建议

- **精简候选地点**: 过多的候选地点会增加计算时间
- **使用具体地址**: 越具体的地点名称，地理编码越准确
- **合理设置天数**: 单次规划建议不超过 7 天

## 常见问题

### Q: 规划需要多长时间？

A: 通常 30-60 秒，取决于地点数量和复杂度。系统会在界面显示实时进度。

### Q: 可以修改已完成的规划吗？

A: 当前版本不支持直接修改。您可以基于相似需求创建新规划。

### Q: 规划结果可以导出吗？

A: 可以。规划完成后可以下载 Markdown 格式的报告。

### Q: 支持多城市行程吗？

A: 当前版本主要支持单城市规划。可以在"城市"字段输入主城市名称。

### Q: 如何提高规划的真实性？

A: 
- 使用准确的地址
- 设置合理的高峰时段
- 预留足够的缓冲时间
- 查看系统提供的风险提示

---

**需要帮助？** 查看 API 文档: http://localhost:8000/docs

